:root{
    --rose:#ff496b;
    --rose-deep:#c6285a;
    --cream:#d62f99f7;
    --ink:#311627;
    --gold:#f5c26b;
  }
  
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:pink;
    background:
      radial-gradient(1200px 600px at 10% -10%, #ffd4df33, transparent 60%),
      radial-gradient(900px 500px at 110% 0%, #ffc1d633, transparent 60%),
      linear-gradient(180deg, #fff 0%, var(--cream) 100%);
    min-height:100svh;
  }
  
  /* headline */
  #hedlinecontainer{
    text-align:center;
    padding:0 16px 6px;
  }
  .love-title{
    margin:0 0 8px;
    font-weight:800;
    letter-spacing:.5px;
    color:var(--rose-deep);
    text-shadow:0 2px 0 #ffffffaa, 0 8px 24px #c6285a33;
  }
  .love-sub{
    margin:0;
    color:#7a3b55;
  }

  /* landing (index) centered full-screen */
  .landing{
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:20px 12px;
  }
  .landing-inner{ max-width:900px; }
  
  /* Letter area styling */
  .letter-area{
    margin:18px auto 0;
    background:#ffeef6; /* light pink */
    color:#3b2030;
    padding:20px;
    border-radius:12px;
    text-align:left;
    min-height:240px;
    max-width:860px;
    box-shadow:0 6px 18px #c6285a11;
    line-height:1.6;
    font-size:16px;
  }
  
  /* gallery layout retained */
  .gallery{
    width:min(1100px, 94%);
    margin:12px auto 40px;
    display:grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap:18px;
  }
  /* make grid children size themselves (so aspect-ratio on .flip-card works) */
  .gallery > *{
    width:100%;
    display:block;
  }

  /* Video page specific helpers */
  .gallery .video-card{
    display:flex;
    flex-direction:column;
    gap:10px;
  }
  .gallery .video-wrap{
    aspect-ratio: 4/3;
    border-radius:14px;
    overflow:hidden;
  }
  .gallery .video-wrap video{
    width:100%;
    height:100%;
    object-fit:cover;
    display:block;
  }
  .gallery img{
    width:100%;
    display:block;
    border-radius:18px;
    border:1px solid #ffffffaa;
    box-shadow:0 10px 30px #c6285a26, inset 0 0 0 2px #ffffff40;
    background:#fff;
    transform:perspective(800px) rotateX(6deg) translateY(6px) scale(.985);
    opacity:.0;
    transition:transform .7s cubic-bezier(.2,.8,.2,1), opacity .7s ease, box-shadow .7s ease, filter .7s ease;
    filter:saturate(1.08) contrast(1.02);
  }
  .gallery img:hover{
    transform:perspective(800px) rotateX(0) translateY(0) scale(1.01);
    box-shadow:0 14px 40px #c6285a3a, 0 0 0 3px #ffffff80;
  }
  .gallery img.show{
    opacity:1;
    transform:perspective(800px) rotateX(0) translateY(0) scale(1);
  }

  /* Flip card layout */
  .flip-card{
    perspective: 1000px;
    width: 100%;
    /* enforce a consistent thumbnail ratio (change 4/3 to 1/1 for square) */
    aspect-ratio: 4 / 3;
    display: block;
  }
  .flip-inner{
    position: relative;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    transition: transform 0.7s cubic-bezier(.2,.8,.2,1);
    border-radius: 18px;
  }
  .flip-card:focus-within .flip-inner,
  .flip-card:hover .flip-inner{
    transform: rotateY(180deg);
  }
  .flip-front,
  .flip-back{
    position: relative;
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
    width: 100%;
    height: 100%;
    border-radius: 18px;
    display: block;
    overflow: hidden;
  }
  .flip-front img{
    width:100%;
    height:100%;
    display:block;
    object-fit: cover; /* crop to fill while preserving focal area */
  }
  .flip-back{
    position: absolute;
    top:0; left:0;
    transform: rotateY(180deg);
    background: linear-gradient(180deg, rgba(0,0,0,0.15), rgba(198,40,90,0.9));
    color: #fff;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:18px;
  }
  .back-content{
    text-align:center;
    font-weight:700;
    font-size:clamp(14px, 1.6vw, 18px);
    line-height:1.2;
  }

  /* Make sure the intersection observer animation still applies to images inside flip-front */
  .gallery img{ will-change: transform, opacity }
  
  /* floating hearts */
  .hearts{
    pointer-events:none;
    position:fixed;
    inset:0;
    overflow:hidden;
  }
  .hearts span{
    position:absolute;
    bottom:-10vh;
    left:var(--x,50%);
    color:var(--rose);
    font-size:clamp(16px, 2.4vw, 28px);
    opacity:.5;
    animation:float calc(8s + var(--d,0s)) linear infinite;
    filter:drop-shadow(0 6px 10px #ff4b6b44);
  }
  .hearts span:nth-child(1){ --x:12%;  --d:0s }
  .hearts span:nth-child(2){ --x:32%;  --d:1s }
  .hearts span:nth-child(3){ --x:56%;  --d:2s }
  .hearts span:nth-child(4){ --x:76%;  --d:1.5s }
  .hearts span:nth-child(5){ --x:90%;  --d:0.5s }
  @keyframes float{
    0%{ transform:translateY(0) scale(0.8) rotate(0deg); opacity:.0 }
    10%{ opacity:.6 }
    50%{ transform:translateY(-50vh) scale(1) rotate(15deg) }
    100%{ transform:translateY(-110vh) scale(1.1) rotate(-10deg); opacity:.0 }
  }
  
  /* subtle gold accents */
  .gallery::after{
    content:"";
    position:absolute;
    inset:auto 0 -30px 0;
    height:30px;
    background:linear-gradient(180deg, #0000, #00000008);
  }
  
  /* music toggle */
  .music-toggle{
    position:fixed;
    right:18px;
    bottom:18px;
    width:46px; height:46px;
    border-radius:50%;
    border:none;
    background:linear-gradient(135deg, var(--rose), var(--rose-deep));
    color:#fff;
    font-size:18px;
    cursor:pointer;
    box-shadow:0 10px 24px #c6285a42;
    transition:transform .2s ease, box-shadow .2s ease, filter .2s ease;
  }
  .music-toggle:hover{ transform:translateY(-2px); box-shadow:0 14px 30px #c6285a55 }
  .music-toggle.on{ filter:brightness(1.15) }

  /* Videos link button */
  .videos-link{
    display:inline-block;
    padding:12px 22px;
    background:linear-gradient(135deg,var(--rose),var(--rose-deep));
    color:#fff;border-radius:14px;text-decoration:none;font-weight:700;box-shadow:0 10px 24px #c6285a33;
  }
  /* Unified animated button utilities ------------------------------------------------ */
  .btn,
  .videos-link,
  .music-toggle,
  button {
    will-change: transform, opacity, box-shadow;
    transition: transform 220ms cubic-bezier(.2,.9,.25,1),
                box-shadow 220ms cubic-bezier(.2,.9,.25,1),
                filter 220ms ease, opacity 180ms ease;
    -webkit-tap-highlight-color: transparent;
  }

  /* Lift + color shift on hover/focus */
  .btn:hover,
  .videos-link:hover,
  .music-toggle:hover,
  button:focus {
    transform: translateY(-6px) scale(1.03);
    box-shadow: 0 18px 40px rgba(198,40,90,0.22);
    outline: none;
  }

  /* Pressed state */
  .btn:active,
  .videos-link:active,
  button:active {
    transform: translateY(-2px) scale(.99);
    box-shadow: 0 6px 14px rgba(0,0,0,0.18) inset, 0 6px 18px rgba(0,0,0,0.12);
  }

  /* subtle pulse for the music toggle when active */
  .music-toggle.on {
    animation: pulse 1.6s infinite ease-in-out;
  }
  @keyframes pulse{
    0%{ box-shadow: 0 10px 24px #c6285a44; transform: translateY(-2px) scale(1.02); }
    50%{ box-shadow: 0 26px 46px #c6285a29; transform: translateY(-4px) scale(1.04); }
    100%{ box-shadow: 0 10px 24px #c6285a44; transform: translateY(-2px) scale(1.02); }
  }

  /* Simple JS-free ripple effect using a pseudo element on links/buttons */
  .videos-link,
  .btn {
    position: relative;
    overflow: hidden;
  }
  .videos-link::after,
  .btn::after {
    content: "";
    position: absolute;
    left: 50%; top: 50%;
    width: 8px; height: 8px;
    background: rgba(255,255,255,0.25);
    border-radius: 999px;
    transform: translate(-50%, -50%) scale(1);
    opacity: 0;
    transition: transform 420ms cubic-bezier(.2,.9,.25,1), opacity 420ms ease;
    pointer-events: none;
  }
  .videos-link:active::after,
  .btn:active::after {
    transform: translate(-50%, -50%) scale(40);
    opacity: 0.06;
    transition: transform 420ms cubic-bezier(.2,.9,.25,1), opacity 420ms ease;
  }

  /* Respect reduced-motion preference */
  @media (prefers-reduced-motion: reduce) {
    * { transition: none !important; animation: none !important }
    .videos-link::after, .btn::after { display: none }
  }

  /* Accessible focus ring for keyboard users */
  :focus {
    outline: none; /* prefer custom focus-visible */
  }
  :focus-visible {
    box-shadow: 0 0 0 4px rgba(198,40,90,0.18), 0 10px 28px rgba(198,40,90,0.14);
    transform: translateY(-6px) scale(1.02);
  }

  /* make sure our link-buttons show a visible ring when focused via keyboard */
  .videos-link:focus-visible,
  .btn:focus-visible,
  .music-toggle:focus-visible,
  button:focus-visible {
    box-shadow: 0 0 0 4px rgba(255,255,255,0.12), 0 0 0 6px rgba(198,40,90,0.20);
    border-radius: 12px;
  }

  /* Mobile-specific improvements */
  @media (max-width: 720px) {
    /* Increase tap target sizes */
    .videos-link, .btn, .music-toggle, button {
      padding: 14px 20px !important;
      border-radius: 14px;
      font-size: 16px;
      min-height: 48px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
    }

    /* Reduce heavy shadows and motion to save battery and reduce jank */
    .btn, .videos-link, .music-toggle { box-shadow: 0 6px 18px rgba(0,0,0,0.12) !important }
    .hearts span{ animation-duration: 10s; opacity: .35; font-size: clamp(12px, 4vw, 20px) }

    /* Slightly smaller transform values on hover */
    .btn:hover, .videos-link:hover, .music-toggle:hover { transform: translateY(-4px) scale(1.02) }

    /* Make gallery images more efficient on mobile */
    .gallery{ gap:12px }
    .flip-card{ aspect-ratio: 3/2 }
  }

  /* JS ripple effect styles */
  .ripple {
    position: absolute;
    border-radius: 50%;
    transform: scale(0);
    background: rgba(255,255,255,0.34);
    pointer-events: none;
    will-change: transform, opacity;
    animation: ripple 600ms cubic-bezier(.2,.9,.25,1);
    box-shadow: 0 6px 18px rgba(198,40,90,0.12) inset;
  }
  @keyframes ripple{
    0%{ transform: scale(0); opacity: .9 }
    60%{ transform: scale(1); opacity: .45 }
    100%{ transform: scale(1.2); opacity: 0 }
  }
  